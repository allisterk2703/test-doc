
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>MLOps Project</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.6f8fc17f.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#documentation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="MLOps Project" class="md-header__button md-logo" aria-label="MLOps Project" data-md-component="logo">
      
  <img src="assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MLOps Project
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Documentation
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="MLOps Project" class="md-nav__button md-logo" aria-label="MLOps Project" data-md-component="logo">
      
  <img src="assets/logo.png" alt="logo">

    </a>
    MLOps Project
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#team-members" class="md-nav__link">
    <span class="md-ellipsis">
      Team Members
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tutorial-forker-et-configurer-le-projet-pour-la-premiere-fois" class="md-nav__link">
    <span class="md-ellipsis">
      Tutorial: forker et configurer le projet pour la première fois
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup-du-depot-forke" class="md-nav__link">
    <span class="md-ellipsis">
      Setup du dépôt forké
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    <span class="md-ellipsis">
      Features
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Features">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ajouter-un-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Ajouter un dataset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afficher-tous-les-datasets-locaux" class="md-nav__link">
    <span class="md-ellipsis">
      Afficher tous les datasets locaux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afficher-les-versions-dun-dataset-local-specifique" class="md-nav__link">
    <span class="md-ellipsis">
      Afficher les versions d’un dataset local spécifique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afficher-tous-les-datasets-s3" class="md-nav__link">
    <span class="md-ellipsis">
      Afficher tous les datasets S3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afficher-les-versions-dun-dataset-s3-specifique" class="md-nav__link">
    <span class="md-ellipsis">
      Afficher les versions d’un dataset S3 spécifique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telecharger-un-dataset-de-s3" class="md-nav__link">
    <span class="md-ellipsis">
      Télécharger un dataset de S3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pretraiter-un-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Prétraiter un dataset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entrainer-un-modele" class="md-nav__link">
    <span class="md-ellipsis">
      Entraîner un modèle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pretraiter-un-dataset-et-entrainer-un-modele" class="md-nav__link">
    <span class="md-ellipsis">
      Prétraiter un dataset et entraîner un modèle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afficher-les-modeles-disponibles" class="md-nav__link">
    <span class="md-ellipsis">
      Afficher les modèles disponibles
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comparer-les-modeles" class="md-nav__link">
    <span class="md-ellipsis">
      Comparer les modèles
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trouver-le-meilleur-modele-pour-un-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Trouver le meilleur modèle pour un dataset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#faire-une-prediction-avec-un-modele-specifique" class="md-nav__link">
    <span class="md-ellipsis">
      Faire une prédiction avec un modèle spécifique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#faire-une-prediction-avec-le-meilleur-modele" class="md-nav__link">
    <span class="md-ellipsis">
      Faire une prédiction avec le meilleur modèle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-image" class="md-nav__link">
    <span class="md-ellipsis">
      Build image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-container" class="md-nav__link">
    <span class="md-ellipsis">
      Run container
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fastapi" class="md-nav__link">
    <span class="md-ellipsis">
      FastAPI
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FastAPI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#afficher-la-liste-des-modeles-disponibles-pour-un-dataset-specifique" class="md-nav__link">
    <span class="md-ellipsis">
      Afficher la liste des modèles disponibles pour un dataset spécifique :
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recuperer-les-donnees-et-leur-type-a-envoyer-pour-faire-une-requete-a-un-modele" class="md-nav__link">
    <span class="md-ellipsis">
      Récupérer les données et leur type à envoyer pour faire une requête à un modèle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#faire-une-prediction-en-utilisant-un-modele-specifique-entraine-sur-un-dataset-specifique" class="md-nav__link">
    <span class="md-ellipsis">
      Faire une prédiction en utilisant un modèle spécifique entraîné sur un dataset spécifique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#faire-une-prediction-en-utilisant-le-meilleur-modele-entraine-sur-un-dataset-specifique" class="md-nav__link">
    <span class="md-ellipsis">
      Faire une prédiction en utilisant le meilleur modèle entraîné sur un dataset spécifique
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    <span class="md-ellipsis">
      Docker
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aws" class="md-nav__link">
    <span class="md-ellipsis">
      AWS
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#team-members" class="md-nav__link">
    <span class="md-ellipsis">
      Team Members
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tutorial-forker-et-configurer-le-projet-pour-la-premiere-fois" class="md-nav__link">
    <span class="md-ellipsis">
      Tutorial: forker et configurer le projet pour la première fois
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup-du-depot-forke" class="md-nav__link">
    <span class="md-ellipsis">
      Setup du dépôt forké
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    <span class="md-ellipsis">
      Features
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Features">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ajouter-un-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Ajouter un dataset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afficher-tous-les-datasets-locaux" class="md-nav__link">
    <span class="md-ellipsis">
      Afficher tous les datasets locaux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afficher-les-versions-dun-dataset-local-specifique" class="md-nav__link">
    <span class="md-ellipsis">
      Afficher les versions d’un dataset local spécifique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afficher-tous-les-datasets-s3" class="md-nav__link">
    <span class="md-ellipsis">
      Afficher tous les datasets S3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afficher-les-versions-dun-dataset-s3-specifique" class="md-nav__link">
    <span class="md-ellipsis">
      Afficher les versions d’un dataset S3 spécifique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telecharger-un-dataset-de-s3" class="md-nav__link">
    <span class="md-ellipsis">
      Télécharger un dataset de S3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pretraiter-un-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Prétraiter un dataset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entrainer-un-modele" class="md-nav__link">
    <span class="md-ellipsis">
      Entraîner un modèle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pretraiter-un-dataset-et-entrainer-un-modele" class="md-nav__link">
    <span class="md-ellipsis">
      Prétraiter un dataset et entraîner un modèle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afficher-les-modeles-disponibles" class="md-nav__link">
    <span class="md-ellipsis">
      Afficher les modèles disponibles
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comparer-les-modeles" class="md-nav__link">
    <span class="md-ellipsis">
      Comparer les modèles
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trouver-le-meilleur-modele-pour-un-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Trouver le meilleur modèle pour un dataset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#faire-une-prediction-avec-un-modele-specifique" class="md-nav__link">
    <span class="md-ellipsis">
      Faire une prédiction avec un modèle spécifique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#faire-une-prediction-avec-le-meilleur-modele" class="md-nav__link">
    <span class="md-ellipsis">
      Faire une prédiction avec le meilleur modèle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-image" class="md-nav__link">
    <span class="md-ellipsis">
      Build image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-container" class="md-nav__link">
    <span class="md-ellipsis">
      Run container
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fastapi" class="md-nav__link">
    <span class="md-ellipsis">
      FastAPI
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FastAPI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#afficher-la-liste-des-modeles-disponibles-pour-un-dataset-specifique" class="md-nav__link">
    <span class="md-ellipsis">
      Afficher la liste des modèles disponibles pour un dataset spécifique :
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recuperer-les-donnees-et-leur-type-a-envoyer-pour-faire-une-requete-a-un-modele" class="md-nav__link">
    <span class="md-ellipsis">
      Récupérer les données et leur type à envoyer pour faire une requête à un modèle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#faire-une-prediction-en-utilisant-un-modele-specifique-entraine-sur-un-dataset-specifique" class="md-nav__link">
    <span class="md-ellipsis">
      Faire une prédiction en utilisant un modèle spécifique entraîné sur un dataset spécifique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#faire-une-prediction-en-utilisant-le-meilleur-modele-entraine-sur-un-dataset-specifique" class="md-nav__link">
    <span class="md-ellipsis">
      Faire une prédiction en utilisant le meilleur modèle entraîné sur un dataset spécifique
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    <span class="md-ellipsis">
      Docker
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aws" class="md-nav__link">
    <span class="md-ellipsis">
      AWS
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="documentation">Documentation<a class="headerlink" href="#documentation" title="Permanent link">&para;</a></h1>
<p><a href="https://github.com/allisterk2703/mlops-project">https://github.com/allisterk2703/mlops-project</a></p>
<h3 id="team-members">Team Members<a class="headerlink" href="#team-members" title="Permanent link">&para;</a></h3>
<p>Allister KOHN
<a href="mailto:allister.kohn@student-cs.fr">allister.kohn@student-cs.fr</a></p>
<p>Elizaveta VASILEVA
<a href="mailto:elizaveta.vasileva@student-cs.fr">elizaveta.vasileva@student-cs.fr</a></p>
<p>Enzo PALOS
<a href="mailto:enzo.palos@student-cs.fr">enzo.palos@student-cs.fr</a></p>
<p>Jinsuh YOU
<a href="mailto:jinsuh.you@student-cs.fr">jinsuh.you@student-cs.fr</a></p>
<hr />
<h3 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h3>
<p>The project proposed to us as part of our MLOps course aims to design an MLOps workflow to industrialize the lifecycle of Machine Learning models. A classic lifecycle includes data ingestion, model training, evaluation, and deployment. The goal is to identify and implement key features to facilitate the management, scalability, and reproducibility of models in production. The project is divided into two parts:</p>
<ol>
<li>Write a specification detailing the chosen workflows and features</li>
<li>Implement the corresponding code, to be hosted on GitHub.</li>
</ol>
<p>The objective is to structure a modular, clear, and reusable system, adopting a pragmatic and robust approach.</p>
<p>To this end, the GitHub repository <a href="https://github.com/JoachimZ/dsba-platform">dsba-platform</a> is a relevant starting point, as it offers a modular architecture that integrates the essential steps of an MLOps workflow. It also includes a CLI, an API (with FastAPI), and a Dockerfile, facilitating containerization, integration, and deployment to the cloud. Furthermore, its structure easily allows for adding advanced features that ensure a smooth and reproducible workflow.</p>
<p>The code in this repository is suited to <strong>binary classification</strong> tasks, like the famous <strong>Titanic</strong> dataset, which predicts passenger survival based on their characteristics. Consequently, we have chosen to focus on a tool intended exclusively for binary classification tasks in order to remain focused on a clear and well-controlled scope.</p>
<hr />
<h3 id="tutorial-forker-et-configurer-le-projet-pour-la-premiere-fois">Tutorial: forker et configurer le projet pour la première fois<a class="headerlink" href="#tutorial-forker-et-configurer-le-projet-pour-la-premiere-fois" title="Permanent link">&para;</a></h3>
<p><a href="https://github.com/JoachimZ/dsba-platform">https://github.com/JoachimZ/dsba-platform</a></p>
<ul>
<li>Cliquer sur <code>Fork</code> depuis la page GitHub, puis sur <code>Create fork</code></li>
<li>Récupérer le lien du dépôt forké dans son propre espace GitHub</li>
<li>Dans un terminal, exécuter la commande : <code>cd Desktop &amp;&amp; git clone &lt;repo_url&gt;</code></li>
<li>
<p>Toujours dans le terminal, exécuter les commandes (remplacer par le chemin où est situé le dossier <code>dsba-platform</code>) :</p>
<p><code>echo 'export PYTHONPATH="$PYTHONPATH:/Users/allisterkohn/Desktop/dsba-platform/src"' &gt;&gt; ~/.zshrc</code></p>
<p><code>echo "export DSBA_MODELS_ROOT_PATH='/Users/allisterkohn/Desktop/dsba-platform/models'" &gt;&gt; ~/.zshrc</code></p>
</li>
<li>
<p>Ouvrir VS Code, aller dans <code>*Fichier &gt; Ouvrir le dossier</code>* et ouvrir le dossier <code>dsba-platform</code></p>
</li>
<li>Taper <code>Control ^</code> + <code>Shift ⇧</code> + <code>&lt;</code> pour ouvrir un terminal dans VS Code</li>
<li>Créer un environnement virtuel <em>.venv</em> et installer les packages nécessaires en exécutant successivement les commandes suivantes :<ul>
<li><code>python -m venv .venv</code></li>
<li><code>echo ".venv/" &gt;&gt; .gitignore</code></li>
<li><code>source .venv/bin/activate</code></li>
<li><code>pip install hatch</code></li>
<li><code>hatch env create</code></li>
<li><code>pip install -e .</code></li>
</ul>
</li>
<li>Vérifier que tout fonctionne en exécutant dans le terminal de VS Code la commande : <code>python src/cli/dsba_cli list</code></li>
</ul>
<hr />
<h2 id="setup-du-depot-forke">Setup du dépôt forké<a class="headerlink" href="#setup-du-depot-forke" title="Permanent link">&para;</a></h2>
<ul>
<li>Ouvrir le projet dans VS Code, puis taper <code>Control ^</code> + <code>Shift ⇧</code> + <code>&lt;</code> pour ouvrir un terminal dans VS Code</li>
<li>Créer un environnement virtuel <em>.venv</em> et installer les packages nécessaires en exécutant successivement dans le terminal lancé précédemment les commandes suivantes :<ul>
<li><code>python -m venv .venv</code></li>
<li><code>source .venv/bin/activate</code></li>
<li><code>pip install hatch</code></li>
<li><code>hatch env create</code></li>
<li><code>pip install -e .</code></li>
</ul>
</li>
<li>
<p>Créer un fichier <code>.env</code> à la racine du projet et y insérer les éléments suivants :</p>
<p><a href="https://signin.aws.amazon.com/signin?redirect_uri=https%3A%2F%2Feu-west-3.console.aws.amazon.com%2Fconsole%2Fhome%3FhashArgs%3D%2523%26isauthcode%3Dtrue%26region%3Deu-west-3%26state%3DhashArgsFromTB_eu-west-3_f832d75c15eb7d4a&amp;client_id=arn%3Aaws%3Asignin%3A%3A%3Aconsole%2Fcanvas&amp;forceMobileApp=0&amp;code_challenge=bE_YlZZ6wzlaVIe1sWQhQrBRCIvTRRUlpOTwVqOJmFI&amp;code_challenge_method=SHA-256">https://signin.aws.amazon.com/signin?redirect_uri=https%3A%2F%2Feu-west-3.console.aws.amazon.com%2Fconsole%2Fhome%3FhashArgs%3D%2523%26isauthcode%3Dtrue%26region%3Deu-west-3%26state%3DhashArgsFromTB_eu-west-3_f832d75c15eb7d4a&amp;client_id=arn%3Aaws%3Asignin%3A%3A%3Aconsole%2Fcanvas&amp;forceMobileApp=0&amp;code_challenge=bE_YlZZ6wzlaVIe1sWQhQrBRCIvTRRUlpOTwVqOJmFI&amp;code_challenge_method=SHA-256</a></p>
<div class="highlight"><pre><span></span><code><span class="nv">AWS_ACCESS_KEY</span><span class="o">=</span>&lt;YOUR_AWS_ACCESS_KEY&gt;
<span class="nv">AWS_SECRET_KEY</span><span class="o">=</span>&lt;YOUR_AWS_SECRET_KEY&gt;
<span class="nv">AWS_REGION</span><span class="o">=</span>&lt;YOUR_AWS_REGION&gt;
<span class="nv">S3_BUCKET_NAME</span><span class="o">=</span>&lt;YOUR_S3_BUCKET_NAME&gt;
</code></pre></div>
</li>
</ul>
<hr />
<h2 id="features">Features<a class="headerlink" href="#features" title="Permanent link">&para;</a></h2>
<h3 id="ajouter-un-dataset">Ajouter un dataset<a class="headerlink" href="#ajouter-un-dataset" title="Permanent link">&para;</a></h3>
<p>Permet d’ajouter un dataset à l’outil.</p>
<ul>
<li>
<p><strong>Paramètres :</strong></p>
<ul>
<li><code>--name</code> (obligatoire) : Nom attribué au dataset lors de son ajout.</li>
<li><code>--file</code> : Chemin vers un fichier local contenant le dataset.</li>
<li><code>--url</code> : URL d’une source distante pour récupérer le dataset.</li>
<li><code>--new</code> : Indique qu'il s'agit d'un <strong>nouveau dataset</strong> (à ne pas inclure pour une nouvelle version d’un dataset existant).</li>
</ul>
<p>Remarques :</p>
<ul>
<li>L'un des paramètres <code>--file</code> ou <code>--url</code> doit être spécifié, mais pas les deux simultanément.</li>
<li>Le flag <code>--new</code> est nécessaire pour ajouter un dataset qui n’existe pas encore.</li>
<li><strong>Exemples :</strong></li>
<li>
<p>Ajouter un dataset depuis un fichier local :</p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>src/cli/dsba_cli<span class="w"> </span>save_dataset<span class="w"> </span>--name<span class="w"> </span>titanic<span class="w"> </span>--file<span class="w"> </span>/Users/allisterkohn/Desktop/titanic.csv
</code></pre></div>
</li>
<li>
<p>Ajouter un dataset depuis une URL :</p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>src/cli/dsba_cli<span class="w"> </span>save_dataset<span class="w"> </span>--name<span class="w"> </span>titanic<span class="w"> </span>--url<span class="w"> </span>https://www.kaggle.com/api/v1/datasets/download/yasserh/titanic-dataset
</code></pre></div>
</li>
</ul>
</li>
</ul>
<h3 id="afficher-tous-les-datasets-locaux">Afficher tous les datasets locaux<a class="headerlink" href="#afficher-tous-les-datasets-locaux" title="Permanent link">&para;</a></h3>
<p>Affiche la liste de tous les datasets enregistrés localement sur la machine.</p>
<ul>
<li>
<p><strong>Exemple :</strong></p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>src/cli/dsba_cli<span class="w"> </span>list_local_datasets
</code></pre></div>
</li>
</ul>
<h3 id="afficher-les-versions-dun-dataset-local-specifique">Afficher les versions d’un dataset local spécifique<a class="headerlink" href="#afficher-les-versions-dun-dataset-local-specifique" title="Permanent link">&para;</a></h3>
<p>Permet de lister toutes les versions d’un dataset spécifique stocké localement.</p>
<ul>
<li><strong>Paramètre :</strong><ul>
<li><code>--dataset</code> (obligatoire) : Nom du dataset.</li>
</ul>
</li>
<li>
<p><strong>Exemple :</strong></p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>src/cli/dsba_cli<span class="w"> </span>list_dataset_versions<span class="w"> </span>--dataset<span class="w"> </span>titanic
</code></pre></div>
</li>
</ul>
<h3 id="afficher-tous-les-datasets-s3">Afficher tous les datasets S3<a class="headerlink" href="#afficher-tous-les-datasets-s3" title="Permanent link">&para;</a></h3>
<p>Affiche la liste des datasets stockés dans le bucket S3 <code>dsba-mlops-project-bucket</code>, disponibles pour téléchargement.</p>
<ul>
<li>
<p><strong>Exemple :</strong></p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>src/cli/dsba_cli<span class="w"> </span>list_s3_datasets
</code></pre></div>
</li>
</ul>
<h3 id="afficher-les-versions-dun-dataset-s3-specifique">Afficher les versions d’un dataset S3 spécifique<a class="headerlink" href="#afficher-les-versions-dun-dataset-s3-specifique" title="Permanent link">&para;</a></h3>
<p>…</p>
<h3 id="telecharger-un-dataset-de-s3">Télécharger un dataset de S3<a class="headerlink" href="#telecharger-un-dataset-de-s3" title="Permanent link">&para;</a></h3>
<p>Permet de récupérer un dataset stocké dans le bucket S3 <code>dsba-mlops-project-bucket</code> et de le télécharger dans l’environnement local.</p>
<ul>
<li><strong>Paramètre :</strong><ul>
<li><code>--s3_filename</code> (obligatoire) : Nom du fichier tel qu’il est retourné par la commande <code>list_s3_datasets</code>.</li>
</ul>
</li>
<li>
<p><strong>Exemple :</strong></p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>src/cli/dsba_cli<span class="w"> </span>download_dataset_from_S3<span class="w"> </span>--s3_filename<span class="w"> </span>titanic/titanic_v1_2025-03-06_22-29.csv
</code></pre></div>
</li>
</ul>
<h3 id="pretraiter-un-dataset">Prétraiter un dataset<a class="headerlink" href="#pretraiter-un-dataset" title="Permanent link">&para;</a></h3>
<p>Effectue un prétraitement sur un dataset en remplissant les valeurs manquantes selon le mode spécifié et en supprimant les colonnes inutiles.</p>
<ul>
<li>
<p><strong>Paramètres :</strong></p>
<ul>
<li><code>--dataset</code> (obligatoire) : Chemin vers le dataset à prétraiter.</li>
<li><code>--target</code> (obligatoire) : Nom de la variable cible.</li>
<li><code>--mode</code> (obligatoire) : Mode de remplissage des valeurs manquantes (modes possibles : <code>mean</code>, <code>median</code>, <code>most_frequent</code>, <code>constant</code>)</li>
<li><code>--useless</code> (optionnel) : Liste des colonnes à exclure du dataset (séparées par un espace).</li>
</ul>
<p>Remarque :</p>
<ul>
<li>Si <code>--useless</code> n'est pas spécifié, aucune colonne n'est supprimée.</li>
<li><strong>Exemple :</strong></li>
</ul>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>src/cli/dsba_cli<span class="w"> </span>preprocess<span class="w"> </span>--dataset<span class="w"> </span>titanic/titanic_v1_2025-03-01_14-29.csv<span class="w"> </span>--target<span class="w"> </span>Survived<span class="w"> </span>--mode<span class="w"> </span>mean<span class="w"> </span>--useless<span class="w"> </span>PassengerId<span class="w"> </span>Name<span class="w"> </span>Ticket
</code></pre></div>
</li>
</ul>
<h3 id="entrainer-un-modele">Entraîner un modèle<a class="headerlink" href="#entrainer-un-modele" title="Permanent link">&para;</a></h3>
<p>Permet d’entraîner un modèle après prétraitement du dataset.</p>
<ul>
<li><strong>Paramètres :</strong><ul>
<li><code>--dataset</code> (obligatoire) : Chemin vers le dataset prétraité.</li>
<li><code>--target</code> (obligatoire) : Nom de la variable cible.</li>
<li><code>--model</code> (obligatoire) : Modèle d’apprentissage à utiliser (modèles possibles : <code>xgboost</code>, <code>random_forest</code>, <code>logistic_regression</code>, <code>svm</code>, <code>decision_tree</code>, <code>all</code>)</li>
<li><code>--gridsearch</code> (optionnel, <code>False</code> par défaut) : Indique si un GridSearch doit être utilisé pour trouver les meilleurs hyperparamètres.</li>
</ul>
</li>
<li>
<p><strong>Exemple :</strong></p>
<ul>
<li>
<p>Entraîner un modèle XGBoost avec GridSearch :</p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>src/cli/dsba_cli<span class="w"> </span>train<span class="w"> </span>--dataset<span class="w"> </span>preprocessed_datasets/titanic/titanic_v1_2025-03-01_14-29<span class="w"> </span>--target<span class="w"> </span>Survived<span class="w"> </span>--model<span class="w"> </span>xgboost<span class="w"> </span>--gridsearch
</code></pre></div>
</li>
<li>
<p>Entraîner tous les modèles disponibles sans GridSearch :</p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>src/cli/dsba_cli<span class="w"> </span>train<span class="w"> </span>--dataset<span class="w"> </span>preprocessed_datasets/titanic/titanic_v1_2025-03-01_14-29<span class="w"> </span>--target<span class="w"> </span>Survived<span class="w"> </span>--model<span class="w"> </span>all
</code></pre></div>
</li>
</ul>
</li>
</ul>
<h3 id="pretraiter-un-dataset-et-entrainer-un-modele">Prétraiter un dataset et entraîner un modèle<a class="headerlink" href="#pretraiter-un-dataset-et-entrainer-un-modele" title="Permanent link">&para;</a></h3>
<p>Effectue le prétraitement d’un dataset et entraîne un modèle en une seule commande.</p>
<ul>
<li><strong>Paramètres :</strong><ul>
<li><code>--dataset</code> (obligatoire) : Chemin vers le dataset à prétraiter.</li>
<li><code>--target</code> (obligatoire) : Nom de la variable cible.</li>
<li><code>--mode</code> (obligatoire) : Mode de remplissage des valeurs manquantes (modes possibles : <code>mean</code>, <code>median</code>, <code>most_frequent</code>, <code>constant</code>)</li>
<li><code>--useless</code> (optionnel) : Liste des colonnes à exclure du dataset (séparées par un espace).</li>
<li><code>--model</code> (obligatoire) : Modèle d’apprentissage à utiliser (modèles possibles : <code>xgboost</code>, <code>random_forest</code>, <code>logistic_regression</code>, <code>svm</code>, <code>decision_tree</code>, <code>all</code>)</li>
<li><code>--gridsearch</code> (optionnel, <code>False</code> par défaut) : Indique si un GridSearch doit être utilisé pour trouver les meilleurs hyperparamètres.</li>
</ul>
</li>
<li>
<p><strong>Exemple :</strong></p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>src/cli/dsba_cli<span class="w"> </span>preprocess_and_train<span class="w"> </span>--dataset<span class="w"> </span>titanic/titanic_v1_2025-03-01_14-29.csv<span class="w"> </span>--target<span class="w"> </span>Survived<span class="w"> </span>--model<span class="w"> </span>xgboost<span class="w"> </span>--mode<span class="w"> </span>mean
</code></pre></div>
</li>
</ul>
<h3 id="afficher-les-modeles-disponibles">Afficher les modèles disponibles<a class="headerlink" href="#afficher-les-modeles-disponibles" title="Permanent link">&para;</a></h3>
<p>Affiche la liste des modèles associés à un dataset spécifique.</p>
<ul>
<li><strong>Paramètre :</strong><ul>
<li><code>--dataset</code> (obligatoire) : Nom du dataset.</li>
</ul>
</li>
<li>
<p><strong>Exemple :</strong></p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>src/cli/dsba_cli<span class="w"> </span>list_models<span class="w"> </span>--dataset<span class="w"> </span>titanic
</code></pre></div>
</li>
</ul>
<h3 id="comparer-les-modeles">Comparer les modèles<a class="headerlink" href="#comparer-les-modeles" title="Permanent link">&para;</a></h3>
<p>Affiche les métriques des modèles.</p>
<ul>
<li><strong>Paramètre :</strong><ul>
<li><code>--dataset</code> (obligatoire) : Nom du dataset.</li>
</ul>
</li>
<li>
<p><strong>Exemple :</strong></p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>src/cli/dsba_cli<span class="w"> </span>compare_models<span class="w"> </span>--dataset<span class="w"> </span>titanic
</code></pre></div>
</li>
</ul>
<h3 id="trouver-le-meilleur-modele-pour-un-dataset">Trouver le meilleur modèle pour un dataset<a class="headerlink" href="#trouver-le-meilleur-modele-pour-un-dataset" title="Permanent link">&para;</a></h3>
<p>Teste plusieurs modèles et sélectionne celui offrant la meilleure performance selon la métrique spécifiée.</p>
<ul>
<li><strong>Paramètres :</strong><ul>
<li><code>--dataset</code> (obligatoire) : Nom du dataset.</li>
<li><code>--metric</code> (optionnel, <code>f1_score</code> par défaut) : Métrique d’évaluation du modèle (métriques disponibles : <code>accuracy</code>, <code>precision</code>, <code>recall</code>, <code>f1_score</code>)</li>
</ul>
</li>
<li>
<p><strong>Exemple :</strong></p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>src/cli/dsba_cli<span class="w"> </span>find_best_model<span class="w"> </span>--dataset<span class="w"> </span>titanic<span class="w"> </span>--metric<span class="w"> </span>f1_score
</code></pre></div>
</li>
<li>
<p><strong>Remarque :</strong></p>
<p>Le meilleur modèle est enregistré dans le fichier <code>best_model.txt</code> composé de 3 lignes :</p>
<ul>
<li>nom de l’algorithme utilisé</li>
<li>GridSearch utilisé ou pas</li>
<li>dataset sur lequel a été entraîné le modèle</li>
</ul>
</li>
</ul>
<h3 id="faire-une-prediction-avec-un-modele-specifique"><strong>Faire une prédiction avec un modèle spécifique</strong><a class="headerlink" href="#faire-une-prediction-avec-un-modele-specifique" title="Permanent link">&para;</a></h3>
<p>Prédit les résultats à partir d’un fichier de test et sauvegarde les prédictions dans un fichier de sortie.</p>
<ul>
<li><strong>Paramètres :</strong><ul>
<li><code>--input</code> (obligatoire) : Chemin vers le fichier de test.</li>
<li><code>--output</code> (obligatoire) : Chemin du fichier de sortie des prédictions.</li>
<li><code>--model</code> (obligatoire) : Modèle à utiliser pour la prédiction.</li>
</ul>
</li>
<li>
<p><strong>Exemple :</strong></p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>src/cli/dsba_cli<span class="w"> </span>predict<span class="w"> </span>--input<span class="w"> </span>titanic_test.csv<span class="w"> </span>--output<span class="w"> </span>predictions.csv<span class="w"> </span>--model<span class="w"> </span>titanic/titanic_v1_2025-03-01_1_random_forest
</code></pre></div>
</li>
</ul>
<h3 id="faire-une-prediction-avec-le-meilleur-modele"><strong>Faire une prédiction avec le meilleur modèle</strong><a class="headerlink" href="#faire-une-prediction-avec-le-meilleur-modele" title="Permanent link">&para;</a></h3>
<p>Utilise automatiquement le meilleur modèle disponible pour faire une prédiction.</p>
<ul>
<li><strong>Paramètres :</strong><ul>
<li><code>--input</code> (obligatoire) : Chemin vers le fichier de test.</li>
<li><code>--output</code> (obligatoire) : Chemin du fichier de sortie des prédictions.</li>
<li><code>--folder</code> (obligatoire) : Nom du dataset contenant le modèle à utiliser.</li>
</ul>
</li>
<li>
<p><strong>Exemple :</strong></p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>src/cli/dsba_cli<span class="w"> </span>predict_with_best_model<span class="w"> </span>--input<span class="w"> </span>titanic_test.csv<span class="w"> </span>--output<span class="w"> </span>predictions.csv<span class="w"> </span>--folder<span class="w"> </span>titanic
</code></pre></div>
</li>
</ul>
<h3 id="build-image">Build image<a class="headerlink" href="#build-image" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>src/cli/dsba_cli<span class="w"> </span>build_image
</code></pre></div>
<h3 id="run-container">Run container<a class="headerlink" href="#run-container" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>src/cli/dsba_cli<span class="w"> </span>run_container
</code></pre></div>
<hr />
<h2 id="fastapi">FastAPI<a class="headerlink" href="#fastapi" title="Permanent link">&para;</a></h2>
<ul>
<li>Pré-requis : <code>pip install "fastapi[standard]"</code></li>
<li>
<p>Lancer l’API :</p>
<div class="highlight"><pre><span></span><code>fastapi<span class="w"> </span>dev<span class="w"> </span>src/api/api.py
</code></pre></div>
</li>
</ul>
<h3 id="afficher-la-liste-des-modeles-disponibles-pour-un-dataset-specifique">Afficher la liste des modèles disponibles pour un dataset spécifique :<a class="headerlink" href="#afficher-la-liste-des-modeles-disponibles-pour-un-dataset-specifique" title="Permanent link">&para;</a></h3>
<p>Endpoint : <code>http://127.0.0.1:8000/models/?dataset=&lt;nom_dataset&gt;</code></p>
<h3 id="recuperer-les-donnees-et-leur-type-a-envoyer-pour-faire-une-requete-a-un-modele">Récupérer les données et leur type à envoyer pour faire une requête à un modèle<a class="headerlink" href="#recuperer-les-donnees-et-leur-type-a-envoyer-pour-faire-une-requete-a-un-modele" title="Permanent link">&para;</a></h3>
<p>Endpoint : <code>http://127.0.0.1:8000/get_coltypes/?dataset=&lt;nom_dataset&gt;</code></p>
<h3 id="faire-une-prediction-en-utilisant-un-modele-specifique-entraine-sur-un-dataset-specifique">Faire une prédiction en utilisant un modèle spécifique entraîné sur un dataset spécifique<a class="headerlink" href="#faire-une-prediction-en-utilisant-un-modele-specifique-entraine-sur-un-dataset-specifique" title="Permanent link">&para;</a></h3>
<p>Endpoint : <code>http://127.0.0.1:8000/predict/</code></p>
<ul>
<li>
<p>Avec cURL :</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://127.0.0.1:8000/predict/&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">     </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">     </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">          &quot;model_id&quot;: &quot;titanic/titanic_v2_2025-04-01_14-29_random_forest&quot;,</span>
<span class="s1">          &quot;query&quot;: {</span>
<span class="s1">              &quot;Pclass&quot;: 3,</span>
<span class="s1">              &quot;Sex&quot;: 1,</span>
<span class="s1">              &quot;Age&quot;: 22.0,</span>
<span class="s1">              &quot;SibSp&quot;: 1,</span>
<span class="s1">              &quot;Parch&quot;: 0,</span>
<span class="s1">              &quot;Fare&quot;: 7.25,</span>
<span class="s1">              &quot;Cabin&quot;: 3,</span>
<span class="s1">              &quot;Embarked&quot;: 2</span>
<span class="s1">          }</span>
<span class="s1">     }&#39;</span>
</code></pre></div>
</li>
<li>
<p>Avec Python :</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;http://127.0.0.1:8000/predict/&quot;</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;model_id&quot;</span><span class="p">:</span> <span class="s2">&quot;titanic/titanic_v2_2025-04-01_14-29_random_forest&quot;</span><span class="p">,</span>
    <span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;Pclass&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;Sex&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;Age&quot;</span><span class="p">:</span> <span class="mf">22.0</span><span class="p">,</span>
        <span class="s2">&quot;SibSp&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;Parch&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;Fare&quot;</span><span class="p">:</span> <span class="mf">7.25</span><span class="p">,</span>
        <span class="s2">&quot;Cabin&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;Embarked&quot;</span><span class="p">:</span> <span class="mi">2</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
</li>
</ul>
<h3 id="faire-une-prediction-en-utilisant-le-meilleur-modele-entraine-sur-un-dataset-specifique">Faire une prédiction en utilisant le meilleur modèle entraîné sur un dataset spécifique<a class="headerlink" href="#faire-une-prediction-en-utilisant-le-meilleur-modele-entraine-sur-un-dataset-specifique" title="Permanent link">&para;</a></h3>
<p>Endpoint : <code>http://127.0.0.1:8000/predict_with_best_model/</code></p>
<ul>
<li>
<p>Avec cURL :</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://127.0.0.1:8000/predict_with_best_model/&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">     </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">     </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">          &quot;model_id&quot;: &quot;titanic&quot;,</span>
<span class="s1">          &quot;query&quot;: {</span>
<span class="s1">              &quot;Pclass&quot;: 3,</span>
<span class="s1">              &quot;Sex&quot;: 1,</span>
<span class="s1">              &quot;Age&quot;: 22.0,</span>
<span class="s1">              &quot;SibSp&quot;: 1,</span>
<span class="s1">              &quot;Parch&quot;: 0,</span>
<span class="s1">              &quot;Fare&quot;: 7.25,</span>
<span class="s1">              &quot;Cabin&quot;: 3,</span>
<span class="s1">              &quot;Embarked&quot;: 2</span>
<span class="s1">          }</span>
<span class="s1">     }&#39;</span>
</code></pre></div>
</li>
<li>
<p>Avec Python :</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;http://127.0.0.1:8000/predict_with_best_model/&quot;</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;model_id&quot;</span><span class="p">:</span> <span class="s2">&quot;titanic&quot;</span><span class="p">,</span>
    <span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;Pclass&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;Sex&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;Age&quot;</span><span class="p">:</span> <span class="mf">22.0</span><span class="p">,</span>
        <span class="s2">&quot;SibSp&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;Parch&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;Fare&quot;</span><span class="p">:</span> <span class="mf">7.25</span><span class="p">,</span>
        <span class="s2">&quot;Cabin&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;Embarked&quot;</span><span class="p">:</span> <span class="mi">2</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
</li>
</ul>
<hr />
<h2 id="docker">Docker<a class="headerlink" href="#docker" title="Permanent link">&para;</a></h2>
<p><code>~/Desktop/DSBA/T2 - Data Sciences Electives/MLOps/dsba-platform</code></p>
<ul>
<li>
<p>Build l’image :</p>
<ul>
<li>
<p>Architecture ARM64 :</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>build<span class="w"> </span>-t<span class="w"> </span>fastapi-app<span class="w"> </span>-f<span class="w"> </span>src/api/Dockerfile<span class="w"> </span>.
</code></pre></div>
</li>
<li>
<p>Architecture AMD64 :</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>buildx<span class="w"> </span>build<span class="w"> </span>--platform<span class="w"> </span>linux/amd64<span class="w"> </span>-t<span class="w"> </span>fastapi-app<span class="w"> </span>-f<span class="w"> </span>src/api/Dockerfile<span class="w"> </span>.<span class="w"> </span>--load
</code></pre></div>
</li>
</ul>
</li>
<li>
<p>Run le conteneur :</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">8000</span>:8000<span class="w"> </span>--name<span class="w"> </span>fastapi-container<span class="w"> </span>-v<span class="w"> </span><span class="s2">&quot;/Users/allisterkohn/Desktop/DSBA/T2 - Data Sciences Electives/MLOps/Project/dsba-platform/models:/app/models&quot;</span><span class="w"> </span>-e<span class="w"> </span><span class="nv">DSBA_MODELS_ROOT_PATH</span><span class="o">=</span><span class="s2">&quot;/app/models&quot;</span><span class="w"> </span>fastapi-app
</code></pre></div>
</li>
<li>
<p>Tagger l’image pour AWS ECR :</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>tag<span class="w"> </span>fastapi-app<span class="w"> </span><span class="m">217831684037</span>.dkr.ecr.eu-west-3.amazonaws.com/mlops-app-runner:latest
</code></pre></div>
</li>
<li>
<p>S’authentifier auprès d’AWS :</p>
<div class="highlight"><pre><span></span><code>aws<span class="w"> </span>ecr<span class="w"> </span>get-login-password<span class="w"> </span>--region<span class="w"> </span>eu-west-3<span class="w"> </span><span class="p">|</span><span class="w"> </span>docker<span class="w"> </span>login<span class="w"> </span>--username<span class="w"> </span>AWS<span class="w"> </span>--password-stdin<span class="w"> </span><span class="m">217831684037</span>.dkr.ecr.eu-west-3.amazonaws.com
</code></pre></div>
</li>
<li>
<p>Créer un dépôt sur AWS ECR :</p>
<div class="highlight"><pre><span></span><code>aws<span class="w"> </span>ecr<span class="w"> </span>create-repository<span class="w"> </span>--repository-name<span class="w"> </span>mlops-app-runner<span class="w"> </span>--region<span class="w"> </span>eu-west-3
</code></pre></div>
</li>
<li>
<p>Pousser l’image sur ce dépôt :</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>push<span class="w"> </span><span class="m">217831684037</span>.dkr.ecr.eu-west-3.amazonaws.com/mlops-app-runner:latest
</code></pre></div>
</li>
<li>
<p>Créer un service AWS App Runner :</p>
<div class="highlight"><pre><span></span><code>aws<span class="w"> </span>apprunner<span class="w"> </span>create-service<span class="w"> </span>--service-name<span class="w"> </span>mlops-app-runner<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--region<span class="w"> </span>eu-west-3<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--profile<span class="w"> </span>s3-user<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--source-configuration<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">        &quot;AuthenticationConfiguration&quot;: {</span>
<span class="s1">            &quot;AccessRoleArn&quot;: &quot;arn:aws:iam::217831684037:role/service-role/AppRunnerECRAccessRole&quot;</span>
<span class="s1">        },</span>
<span class="s1">        &quot;ImageRepository&quot;: {</span>
<span class="s1">            &quot;ImageIdentifier&quot;: &quot;217831684037.dkr.ecr.eu-west-3.amazonaws.com/mlops-app-runner:latest&quot;,</span>
<span class="s1">            &quot;ImageRepositoryType&quot;: &quot;ECR&quot;,</span>
<span class="s1">            &quot;ImageConfiguration&quot;: {</span>
<span class="s1">                &quot;Port&quot;: &quot;8000&quot;,</span>
<span class="s1">                &quot;RuntimeEnvironmentVariables&quot;: {</span>
<span class="s1">                    &quot;DSBA_MODELS_ROOT_PATH&quot;: &quot;/app/models&quot;</span>
<span class="s1">                }</span>
<span class="s1">            }</span>
<span class="s1">        },</span>
<span class="s1">        &quot;AutoDeployments&quot;: true</span>
<span class="s1">    }&#39;</span>
</code></pre></div>
</li>
<li>
<p>Récupérer le <code>ServiceURI</code> du service déployé :</p>
<div class="highlight"><pre><span></span><code>aws<span class="w"> </span>apprunner<span class="w"> </span>list-services<span class="w"> </span>--region<span class="w"> </span>eu-west-3<span class="w"> </span>--profile<span class="w"> </span>s3-user
</code></pre></div>
</li>
</ul>
<hr />
<h2 id="aws">AWS<a class="headerlink" href="#aws" title="Permanent link">&para;</a></h2>
<ul>
<li>Installer le CLI AWS : <code>brew install awscli</code></li>
<li>Se connecter à n’importe quel utilisateur de votre compte AWS : <code>aws configure</code></li>
<li>
<p>Créer un nouvel utilisateur :</p>
<div class="highlight"><pre><span></span><code>aws<span class="w"> </span>iam<span class="w"> </span>create-user<span class="w"> </span>--user-name<span class="w"> </span>MyIAMUser
</code></pre></div>
</li>
<li>
<p>Attacher des politiques à cet utilisateur :</p>
<div class="highlight"><pre><span></span><code>aws<span class="w"> </span>iam<span class="w"> </span>attach-user-policy<span class="w"> </span>--user-name<span class="w"> </span>MyIAMUser<span class="w"> </span>--policy-arn<span class="w"> </span>arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryFullAccess
aws<span class="w"> </span>iam<span class="w"> </span>attach-user-policy<span class="w"> </span>--user-name<span class="w"> </span>MyIAMUser<span class="w"> </span>--policy-arn<span class="w"> </span>arn:aws:iam::aws:policy/AmazonEC2ReadOnlyAccess
aws<span class="w"> </span>iam<span class="w"> </span>attach-user-policy<span class="w"> </span>--user-name<span class="w"> </span>MyIAMUser<span class="w"> </span>--policy-arn<span class="w"> </span>arn:aws:iam::aws:policy/AmazonECS_FullAccess
aws<span class="w"> </span>iam<span class="w"> </span>attach-user-policy<span class="w"> </span>--user-name<span class="w"> </span>MyIAMUser<span class="w"> </span>--policy-arn<span class="w"> </span>arn:aws:iam::aws:policy/AmazonS3FullAccess
aws<span class="w"> </span>iam<span class="w"> </span>attach-user-policy<span class="w"> </span>--user-name<span class="w"> </span>MyIAMUser<span class="w"> </span>--policy-arn<span class="w"> </span>arn:aws:iam::aws:policy/AWSAppRunnerFullAccess
aws<span class="w"> </span>iam<span class="w"> </span>attach-user-policy<span class="w"> </span>--user-name<span class="w"> </span>MyIAMUser<span class="w"> </span>--policy-arn<span class="w"> </span>arn:aws:iam::aws:policy/service-role/AWSAppRunnerServicePolicyForECRAccess
aws<span class="w"> </span>iam<span class="w"> </span>attach-user-policy<span class="w"> </span>--user-name<span class="w"> </span>MyIAMUser<span class="w"> </span>--policy-arn<span class="w"> </span>arn:aws:iam::aws:policy/IAMFullAccess
aws<span class="w"> </span>iam<span class="w"> </span>attach-user-policy<span class="w"> </span>--user-name<span class="w"> </span>MyIAMUser<span class="w"> </span>--policy-arn<span class="w"> </span>arn:aws:iam::aws:policy/IAMReadOnlyAccess
</code></pre></div>
</li>
<li>
<p>Créer une clé d’accès :</p>
<div class="highlight"><pre><span></span><code>aws<span class="w"> </span>iam<span class="w"> </span>create-access-key<span class="w"> </span>--user-name<span class="w"> </span>MyIAMUser
</code></pre></div>
</li>
<li>
<p>Se connecter à l’utilisateur créé :</p>
<div class="highlight"><pre><span></span><code>aws<span class="w"> </span>configure
</code></pre></div>
</li>
</ul>
<hr />












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.tracking"], "search": "assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
    
  </body>
</html>